<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <!-- Instagram Browser Handling -->
    <script>
      (function() {
        // Initial setup with fallbacks
        window.__TB = { ready: false };
        var html = document.documentElement;
        var ua = navigator.userAgent || '';
        var isIOS = /iPad|iPhone|iPod/.test(ua);
        var isInstagram = /Instagram/.test(ua) ||
          (isIOS && (/FBAN/.test(ua) || /FBAV/.test(ua) || /FBIOS/.test(ua)));

        // Set a placeholder for Instagram browser
       if (isInstagram) {
         
         // Create a basic UI that works without React
         var style = document.createElement('style');
         style.textContent = `
           .ig-overlay {
             position: fixed;
             top: 0;
             left: 0;
             right: 0;
             bottom: 0;
             background: #f8fafc;
             z-index: 99998;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
             text-align: center;
             font-family: system-ui;
             padding: 20px;
           }
           .ig-heading {
             font-size: 20px;
             text-align: center;
             font-weight: 600;
             margin-bottom: 4px;
             color: #0f172a;
           }           
           .ig-message {
             max-width: 320px;
             text-align: left;
             margin-bottom: 24px;
             font-size: 16px;
             line-height: 1.5;
             color: #0f172a;
           }
           .ig-steps {
             max-width: 280px;
             text-align: left;
             color: #475569;
             font-size: 15px;
             line-height: 1.6;
           }
           .ig-step {
             display: flex;
             gap: 12px;
             margin-bottom: 12px;
           }
           .ig-step-number {
             color: #0EA5E9;
             font-weight: 600;
             font-size: 14px;
             padding-top: 2px;
           }
         `;
         document.head.appendChild(style);
         
         var div = document.createElement('div');
         div.className = 'ig-overlay';
         div.innerHTML = `
           <div class="ig-message">
             <div class="ig-heading">TouchBase cannot run in Instagram's browser</div>
             <br><br>
             Please follow the steps below to open in your phone's browser:
           </div>
           <div class="ig-steps">
             <div class="ig-step">
               <div class="ig-step-number">1.</div>
               <div>Look for the ${isIOS ? "⋯" : "⋮"} menu button in the top right corner</div>
             </div>
             <div class="ig-step">
               <div class="ig-step-number">2.</div>
               <div>Tap '${isIOS ? "Open in external browser" : "Open in browser"}'</div>
             </div>
           </div>
         `;
          
          // Add banner when DOM is ready
          document.addEventListener('DOMContentLoaded', function() {
            document.body.appendChild(div);
          });

          // Store detection results
          html.setAttribute('data-ig-browser', 'true');
          html.setAttribute('data-ig-platform', isIOS ? 'ios' : 'android');
        }
        
        // Handle app initialization
        window.__TB.ready = true;
      })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
    <script src="https://cdn.jsdelivr.net/npm/eruda-features"></script>
    <script>
      (function() {
        eruda.init({
          tool: ['console', 'network', 'elements', 'features'],
          useShadowDom: true,
          autoScale: true,
          defaults: {
            displaySize: 50,
            transparency: 0.9,
            theme: 'Dark'
          }
        });
        eruda.show();
        
        // Enable all console methods
        eruda.get('console').config.set({
          verbose: true,
          displayExtraInfo: true,
          displayUnenumerable: true,
          displayGetterVal: true,
          lazyEvaluation: false
        });
      })();
    </script>
    <meta name="theme-color" content="#0EA5E9" />
    <meta name="description" content="TouchBase — Stay connected with the people who matter most." />
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icon-192.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="TouchBase" />
    
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="TouchBase" />
    <meta property="og:description" content="Stay connected with the people who matter most." />
    <meta property="og:image" content="/og.png" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="TouchBase" />
    <meta name="twitter:description" content="Stay connected with the people who matter most." />
    <meta name="twitter:image" content="/og.png" />
    
    <!-- Schema.org markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "WebApplication",
            "@id": "https://touchbase.site/#webapp",
            "name": "TouchBase",
            "url": "https://touchbase.site",
            "applicationCategory": "LifestyleApplication",
            "browserRequirements": "Requires JavaScript. Requires HTML5.",
            "description": "Stay connected with the people who matter most. TouchBase helps you nurture meaningful relationships with gentle reminders and personalised suggestions.",
            "offers": {
              "@type": "Offer",
              "price": "5",
              "priceCurrency": "USD",
              "availability": "https://schema.org/InStock"
            },
            "featureList": [
              "Contact Management",
              "Interaction Tracking",
              "Smart Reminders",
              "Relationship Analytics",
              "Personalised Suggestions",
              "Conversation Prompt Generator",    
              "Cross-platform Support"
            ],
            "operatingSystem": "Any",
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.8",
              "ratingCount": "132"
            }
          },
          {
            "@type": "SoftwareApplication",
            "name": "TouchBase",
            "applicationCategory": "LifestyleApplication",
            "operatingSystem": "Any",
            "offers": {
              "@type": "Offer",
              "price": "5",
              "priceCurrency": "USD"
            },
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.8",
              "ratingCount": "132"
            }
          },
          {
            "@type": "Organization",
            "@id": "https://touchbase.site/#organization",
            "name": "TouchBase",
            "url": "https://touchbase.site",
            "logo": {
              "@type": "ImageObject",
              "url": "https://touchbase.site/icon-512.png",
              "width": "512",
              "height": "512"
            },
            "sameAs": [
              "mailto:gogoi@touchbase.site"
            ]
          }
        ]
      }
    </script>
    
    <title>TouchBase</title>
  </head>
  <body class="bg-gray-50">
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"></script>
  </body>
</html>
